################################################################################
# This is the ldap client configuration file. See ldap.conf(5) for more info on 
# the configuration options.
#
#                    _     _                              __ 
#                   | | __| | __ _ _ __   ___ ___  _ __  / _|
#                   | |/ _` |/ _` | '_ \ / __/ _ \| '_ \| |_
#                   | | (_| | (_| | |_) | (_| (_) | | | |  _|
#                   |_|\__,_|\__,_| .__(_)___\___/|_| |_|_|
#                                 |_|
#
################################################################################
# /!\ DO NOT EDIT THIS FILE: It has been automatically generated by Puppet.    #
#   In particular, any further changes will be overwritten at the next puppet  #
#   invocation                                                                 #
#################################################################################
#
# This file should be world readable but not world writable.
#
# LDAP Defaults
#

URI          <%= uri %>
BASE         <%= base %>
ldap_version 3

DEREF        searching
REFERRALS    yes

<% if scope.lookupvar('openldap::client::use_ssl') == 'yes' %>
# USE SSL
SSL          start_tls
TLS_REQCERT  never
<% end %>

<% if scope.lookupvar('openldap::client::unix_auth') == 'yes' %>
# NSS
nss_base_passwd  <%= scope.lookupvar('openldap::client::base_passwd') %>?<%= scope.lookupvar('openldap::client::scope') %>
nss_base_shadow  <%= scope.lookupvar('openldap::client::base_passwd') %>?<%= scope.lookupvar('openldap::client::scope') %>
nss_base_group   <%= scope.lookupvar('openldap::client::base_group')  %>?<%= scope.lookupvar('openldap::client::scope') %>

#PAM options
pam_password     md5
pam_filter       objectclass=posixAccount
pam_min_uid      9000
pam_max_uid      0
<% end %>
